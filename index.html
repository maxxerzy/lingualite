<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LinguaLite â€“ Vokabeltrainer</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
  <meta name="color-scheme" content="light dark" />
</head>
<body class="h-full bg-slate-50 dark:bg-slate-900 text-slate-900 dark:text-slate-100">
  <div class="max-w-5xl mx-auto p-4 sm:p-6">
    <header class="flex items-center justify-between gap-4 mb-4">
      <div class="flex items-center gap-3">
        <div class="logo">L</div>
        <div>
          <h1 class="text-xl sm:text-2xl font-bold">LinguaLite</h1>
          <p class="text-xs text-slate-500">Vokabeltrainer â€“ lokal, offline, modular</p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <button id="darkToggle" class="btn-outline">Dark/Light</button>
        <button id="resetApp" class="btn-danger">ZurÃ¼cksetzen</button>
      </div>
    </header>

    <nav class="tabs">
      <button data-tab="learn" class="tab active">Lernen</button>
      <button data-tab="decks" class="tab">Decks</button>
      <button data-tab="import" class="tab">Import/Export</button>
      <button data-tab="settings" class="tab">Einstellungen</button>
    </nav>

    <section class="stats">
      <div class="stat"><div>XP</div><div id="xp">0</div></div>
      <div class="stat"><div>Streak</div><div id="streak">0 ðŸ”¥</div></div>
      <div class="stat"><div>FÃ¤llig</div><div id="dueCount">0</div></div>
      <div class="stat"><div>Heute gelernt</div><div id="learnedToday">0</div></div>
    </section>

    <main>
      <!-- Learn View -->
      <section id="view-learn" class="view">
        <div class="grid md:grid-cols-3 gap-3 mb-3">
          <div class="card md:col-span-2">
            <div class="flex items-center justify-between mb-3">
              <div class="flex gap-2 text-sm">
                <select id="deckSelect" class="input"></select>
                <select id="modeSelect" class="input">
                  <option value="flash">Flashcards</option>
                  <option value="mc">Multiple Choice</option>
                  <option value="write">Schreiben</option>
                  <option value="puzzle">Satzpuzzle</option>
                </select>
                <button id="startSession" class="btn-primary">Session starten</button>
              </div>
              <div class="text-xs text-slate-500" id="sessionInfo">keine aktive Session</div>
            </div>
            <div id="cardArea" class="card dashed center">
              <p class="muted">WÃ¤hle ein Deck und starte eine Session.</p>
            </div>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Statistik</h3>
            <ul class="text-sm space-y-1" id="statsList"></ul>
          </div>
        </div>
      </section>

      <!-- Decks View -->
      <section id="view-decks" class="view hidden">
        <div class="card mb-3">
          <h3 class="font-semibold mb-3">Neues Deck</h3>
          <div class="grid sm:grid-cols-5 gap-2 text-sm">
            <input id="newDeckName" class="input sm:col-span-2" placeholder="Deckname" />
            <input id="newDeckSrc" class="input" placeholder="Quellsprache (z. B. DE)" />
            <input id="newDeckTgt" class="input" placeholder="Zielsprache (z. B. EN)" />
            <button id="addDeck" class="btn-success">Deck anlegen</button>
          </div>
        </div>
        <div id="deckList" class="grid gap-3"></div>
      </section>

      <!-- Import/Export View -->
      <section id="view-import" class="view hidden">
        <div class="grid md:grid-cols-2 gap-3">
          <div class="card">
            <h3 class="font-semibold mb-2">Export</h3>
            <p class="muted mb-3">Exportiert alle Decks und LernstÃ¤nde als JSON.</p>
            <button id="exportJson" class="btn-primary">Export als JSON</button>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Import</h3>
            <p class="muted mb-3">1) Dateiimport (JSON) â€“ oder â€“ 2) Textimport unten (eine Zeile pro Karte).</p>
            <div class="flex items-center gap-2 mb-2">
              <input type="file" id="importFile" accept="application/json" class="text-sm" />
              <select id="importMode" class="input small">
                <option value="merge">ZusammenfÃ¼hren</option>
                <option value="replace">Alles ersetzen</option>
              </select>
            </div>
            <button id="importJson" class="btn-success">Datei importieren</button>
            <hr class="my-4 border-slate-200 dark:border-slate-800" />
            <h4 class="font-medium mb-2">Textimport</h4>
            <p class="muted mb-2">Format: <code>front;back;example(optional);tags(optional)</code>, eine Karte pro Zeile. Ziel-Deck wÃ¤hlen:</p>
            <div class="flex gap-2 mb-2">
              <select id="importTextDeck" class="input"></select>
              <button id="importTextBtn" class="btn-primary">Text importieren</button>
            </div>
            <textarea id="importTextArea" class="input" rows="8" placeholder="Haus;house;Das Haus ist groÃŸ.;alltag"></textarea>
          </div>
        </div>
      </section>

      <!-- Settings View -->
      <section id="view-settings" class="view hidden">
        <div class="grid md:grid-cols-2 gap-3">
          <div class="card">
            <h3 class="font-semibold mb-2">Lerneinstellungen</h3>
            <label class="row">
              <span>Neue Karten pro Tag</span>
              <input id="newPerDay" type="number" min="0" max="200" class="input small w-24 text-right" />
            </label>
            <label class="row">
              <span>Akzent-Insensitive PrÃ¼fung</span>
              <input id="accentToggle" type="checkbox" />
            </label>
            <label class="row">
              <span>TTS (Vorlesen) benutzen</span>
              <input id="ttsToggle" type="checkbox" />
            </label>
            <label class="row">
              <span>Stimme (falls verfÃ¼gbar)</span>
              <select id="voiceSelect" class="input w-48"></select>
            </label>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Info</h3>
            <ul class="text-sm list-disc pl-5 space-y-1">
              <li>Komplett lokal (LocalStorage).</li>
              <li>SMâ€‘2â€‘Ã¤hnliches Spaced Repetition.</li>
              <li>Modi: Flashcards, Multiple Choice, Schreiben, <strong>Satzpuzzle</strong>.</li>
              <li>Import/Export als JSON + Textimport.</li>
            </ul>
          </div>
        </div>
      </section>
    </main>
  </div>

  <template id="deckItemTpl">
    <div class="card">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold deck-title"></div>
        <div class="text-xs text-slate-500 deck-meta"></div>
      </div>
      <div class="grid sm:grid-cols-5 gap-2 mb-3 text-sm">
        <input class="card-front input" placeholder="Vorderseite (Quellsprache)" />
        <input class="card-back input" placeholder="RÃ¼ckseite (Zielsprache)" />
        <input class="card-example input" placeholder="Beispiel (optional)" />
        <input class="card-tags input" placeholder="Tags, komma-getrennt" />
        <button class="add-card btn-success">Karte hinzufÃ¼gen</button>
      </div>
      <div class="overflow-auto">
        <table class="w-full text-sm">
          <thead class="text-slate-500">
            <tr><th class="text-left py-1">Vorne</th><th class="text-left">Hinten</th><th class="text-left">Beispiel</th><th class="text-left">Tags</th><th class="text-right">Aktion</th></tr>
          </thead>
          <tbody class="deck-cards divide-y divide-slate-200 dark:divide-slate-800"></tbody>
        </table>
      </div>
    </div>
  </template>

  <script src="app.js"></script>
</body>
</html>
