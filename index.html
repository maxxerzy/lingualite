<!DOCTYPE html>
<html lang="de" class="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LinguaLite ‚Äì Vokabeltrainer</title>
  <meta name="color-scheme" content="dark" />
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="h-full bg-slate-900 text-slate-100">
  <div class="max-w-5xl mx-auto p-4 sm:p-6">
    <header class="flex items-center justify-between gap-4 mb-4">
      <div class="flex items-center gap-3">
        <div class="logo">L</div>
        <div>
          <h1 class="text-xl sm:text-2xl font-bold">LinguaLite</h1>
          <p class="text-xs text-slate-400">Vokabeltrainer ‚Äì lokal, offline, modular</p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <!-- Dark/Light toggle removed -->
        <button id="resetApp" class="btn-danger">Zur√ºcksetzen</button>
      </div>
    </header>

    <nav class="tabs">
      <button data-tab="learn" class="tab active">Lernen</button>
      <button data-tab="decks" class="tab">Decks</button>
      <button data-tab="import" class="tab">Import/Export</button>
      <button data-tab="settings" class="tab">Einstellungen</button>
    </nav>

    <section class="stats">
      <div class="stat"><div>XP</div><div id="xp">0</div></div>
      <div class="stat"><div>Streak</div><div id="streak">0 üî•</div></div>
      <div class="stat"><div>F√§llig</div><div id="dueCount">0</div></div>
      <div class="stat"><div>Heute gelernt</div><div id="learnedToday">0</div></div>
    </section>

    <main>
      <!-- Learn View -->
      <section id="view-learn" class="view">
        <div class="grid md:grid-cols-3 gap-3 mb-3">
          <div class="card md:col-span-2">
            <div class="flex items-center justify-between mb-3">
              <div class="flex gap-2 text-sm">
                <select id="deckSelect" class="input"></select>
                <select id="modeSelect" class="input">
                  <option value="flash">Flashcards</option>
                  <option value="mc">Multiple Choice</option>
                  <option value="write">Schreiben</option>
                  <option value="puzzle">Satzpuzzle</option>
                </select>
                <button id="startSession" class="btn-primary">Session starten</button>
              </div>
              <div class="text-xs text-slate-400" id="sessionInfo">keine aktive Session</div>
            </div>
            <div id="cardArea" class="card dashed center">
              <p class="muted">W√§hle ein Deck und starte eine Session.</p>
            </div>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Statistik</h3>
            <ul class="text-sm space-y-1" id="statsList"></ul>
          </div>
        </div>
      </section>

      <!-- Decks View -->
      <section id="view-decks" class="view hidden">
        <div class="card mb-3">
          <h3 class="font-semibold mb-3">Neues Deck</h3>
          <div class="grid sm:grid-cols-5 gap-2 text-sm">
            <input id="newDeckName" class="input sm:col-span-2" placeholder="Deckname" />
            <input id="newDeckSrc" class="input" placeholder="Quellsprache (z. B. DE)" />
            <input id="newDeckTgt" class="input" placeholder="Zielsprache (z. B. EN)" />
            <button id="addDeck" class="btn-success">Deck anlegen</button>
          </div>
        </div>
        <div id="deckList" class="grid gap-3"></div>
      </section>

      <!-- Import/Export View -->
      <section id="view-import" class="view hidden">
        <div class="grid md:grid-cols-2 gap-3">
          <div class="card">
            <h3 class="font-semibold mb-2">Export</h3>
            <p class="muted mb-3">Exportiert alle Decks und Lernst√§nde als JSON.</p>
            <button id="exportJson" class="btn-primary">Export als JSON</button>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Import</h3>
            <p class="muted mb-3">1) Dateiimport (JSON) ‚Äì oder ‚Äì 2) Textimport unten (eine Zeile pro Karte).</p>
            <div class="flex items-center gap-2 mb-2">
              <input type="file" id="importFile" accept="application/json" class="text-sm" />
              <select id="importMode" class="input small">
                <option value="merge">Zusammenf√ºhren</option>
                <option value="replace">Alles ersetzen</option>
              </select>
            </div>
            <button id="importJson" class="btn-success">Datei importieren</button>
            <hr class="my-4 border-slate-700" />
            <h4 class="font-medium mb-2">Textimport</h4>
            <p class="muted mb-2">Format: <code>front;back;example(optional);tags(optional)</code>, eine Karte pro Zeile. Ziel-Deck w√§hlen:</p>
            <div class="flex gap-2 mb-2">
              <select id="importTextDeck" class="input"></select>
              <button id="importTextBtn" class="btn-primary">Text importieren</button>
            </div>
            <textarea id="importTextArea" class="input" rows="8" placeholder="Haus;house;Das Haus ist gro√ü.;alltag"></textarea>
          </div>
        </div>
      </section>

      <!-- Settings View -->
      <section id="view-settings" class="view hidden">
        <div class="grid md:grid-cols-2 gap-3">
          <div class="card">
            <h3 class="font-semibold mb-2">Lerneinstellungen</h3>
            <label class="row">
              <span>Neue Karten pro Tag</span>
              <input id="newPerDay" type="number" min="0" max="200" class="input small w-24 text-right" />
            </label>
            <label class="row">
              <span>Akzent-Insensitive Pr√ºfung</span>
              <input id="accentToggle" type="checkbox" />
            </label>
            <label class="row">
              <span>TTS (Vorlesen) benutzen</span>
              <input id="ttsToggle" type="checkbox" />
            </label>
            <label class="row">
              <span>Stimme (falls verf√ºgbar)</span>
              <select id="voiceSelect" class="input w-48"></select>
            </label>
          </div>
          <div class="card">
            <h3 class="font-semibold mb-2">Info</h3>
            <ul class="text-sm list-disc pl-5 space-y-1 muted">
              <li>Komplett lokal (LocalStorage).</li>
              <li>SM‚Äë2‚Äë√§hnliches Spaced Repetition.</li>
              <li>Modi: Flashcards, Multiple Choice, Schreiben, <strong>Satzpuzzle</strong>.</li>
              <li>Import/Export als JSON + Textimport.</li>
            </ul>
          </div>
        </div>
      </section>
    </main>
  </div>

  <template id="deckItemTpl">
    <div class="card">
      <div class="flex items-center justify-between mb-2">
        <div class="font-semibold deck-title"></div>
        <div class="text-xs text-slate-400 deck-meta"></div>
      </div>
      <div class="grid sm:grid-cols-5 gap-2 mb-3 text-sm">
        <input class="card-front input" placeholder="Vorderseite (Quellsprache)" />
        <input class="card-back input" placeholder="R√ºckseite (Zielsprache)" />
        <input class="card-example input" placeholder="Beispiel (optional)" />
        <input class="card-tags input" placeholder="Tags, komma-getrennt" />
        <button class="add-card btn-success">Karte hinzuf√ºgen</button>
      </div>
      <div class="overflow-auto">
        <table class="w-full text-sm">
          <thead class="text-slate-400">
            <tr><th class="text-left py-1">Vorne</th><th class="text-left">Hinten</th><th class="text-left">Beispiel</th><th class="text-left">Tags</th><th class="text-right">Aktion</th></tr>
          </thead>
          <tbody class="deck-cards divide-y divide-slate-800"></tbody>
        </table>
      </div>
    </div>
  </template>

  <script>
    window.__DE_DA__ = [["Hallo", "hej", "Hej! Hvordan g√•r det?", "begr√º√üung"], ["Guten Morgen", "godmorgen", "Godmorgen!", "begr√º√üung"], ["Guten Abend", "god aften", "God aften!", "begr√º√üung"], ["Gute Nacht", "godnat", "Godnat og sov godt.", "begr√º√üung"], ["Tsch√ºss", "hej hej", "Vi ses, hej hej!", "begr√º√üung"], ["Wie geht es dir?", "Hvordan har du det?", "Hvordan har du det i dag?", "smalltalk"], ["Mir geht es gut", "Jeg har det godt", "Tak, jeg har det godt.", "smalltalk"], ["Ich hei√üe Maxim", "Jeg hedder Maxim", "Hej, jeg hedder Maxim.", "vorstellung"], ["Ich komme aus Deutschland", "Jeg kommer fra Tyskland", "Jeg kommer fra Tyskland.", "vorstellung"], ["Ich spreche ein bisschen D√§nisch", "Jeg taler lidt dansk", "Jeg taler kun lidt dansk.", "sprache"], ["Ja", "ja", "Ja, tak.", "grundwort"], ["Nein", "nej", "Nej, tak.", "grundwort"], ["Vielleicht", "m√•ske", "M√•ske senere.", "grundwort"], ["Danke", "tak", "Mange tak!", "h√∂flichkeit"], ["Danke sch√∂n", "mange tak", "Tusind tak!", "h√∂flichkeit"], ["Bitte sch√∂n (gern geschehen)", "velbekomme", "Tak! ‚Äì Velbekomme.", "h√∂flichkeit"], ["Entschuldigung", "undskyld", "Undskyld, jeg er forsinket.", "h√∂flichkeit"], ["Hilfe!", "hj√¶lp!", "Hj√¶lp! Er der nogen?", "notfall"], ["Wo ist die Toilette?", "Hvor er toilettet?", "Undskyld, hvor er toilettet?", "reise"], ["Wie viel kostet das?", "Hvor meget koster det?", "Hvor meget koster det her?", "einkauf"], ["Zahlen bitte", "Jeg vil gerne betale", "Undskyld, jeg vil gerne betale.", "einkauf"], ["Ich h√§tte gern einen Kaffee", "Jeg vil gerne have en kaffe", "Jeg vil gerne have en kaffe, tak.", "cafe"], ["Wasser", "vand", "Et glas vand, tak.", "essen"], ["Brot", "br√∏d", "Friskt br√∏d smager godt.", "essen"], ["Zug", "tog", "Toget kommer om fem minutter.", "reise"], ["Bahnhof", "baneg√•rd", "Hvor er baneg√•rden?", "reise"], ["Krankenhaus", "hospital", "Hvor er det n√¶rmeste hospital?", "reise"], ["links", "venstre", "Drej til venstre ved hj√∏rnet.", "richtung"], ["rechts", "h√∏jre", "Drej til h√∏jre ved lyskrydset.", "richtung"], ["geradeaus", "lige ud", "G√• lige ud i to hundrede meter.", "richtung"]];
  </script>
  <script src="app.js"></script>
</body>
</html>
